{% extends "base.html" %}

<head>

    {% block extra_styles %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/index.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='slick/slick-theme.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='slick/slick.css') }}"/>
    {% endblock %}

</head>

{% block content %}

<section class="container-fluid landing-video">
    <div class="container-fluid">
        <div class="container-fluid video">
            <div class="ratio ratio-16x9">
                <video src="static/video/Homepage_TextMotion_Stay.mp4" muted disablePictureInPicture autoplay></video>
            </div>
        </div>
    </div>
</section>

<section class="container-fluid clients reveal">
    <div class="split-slideshow">
        <div class="slideshow">
          <div class="slider">
            <div class="item">
              <img class="portfolio-img" src="static/images/gorrilas_2.jpg" />
            </div>
            <div class="item">
              <img class="portfolio-img" src="static/images/gorrilas4.jpg" />
            </div>
            <div class="item">
                <img class="portfolio-img" src="static/images/gorrilas_3.jpg" />
              </div>
          </div>
        </div>
        <div class="slideshow-text">
          <div class="item"></div>
        </div>
    </div>
</section>

<section class="container-fluid client-videos reveal">
    <div class="carousel-item-background">
        <video class="gorillaVid" src="static/video/gorrilas_vid.mp4" controls preload="metadata" disablePictureInPicture></video>
    </div>
</section>

<section class="container-fluid logo-holder reveal">
    <div class="container-fluid">
        <video class="client-reveal" src="static/video/ClientsLogos.mp4" disablePictureInPicture preload="metadata"></video>
    </div>
</section>

<section class="container-fluid clients reveal">
    <div class="split-slideshow2">
        <div class="slideshow2">
          <div class="slider2">
            <div class="item2">
              <img class="portfolio-img" src="static/images/digme_1.jpg" />
            </div>
            <div class="item2">
              <img class="portfolio-img" src="static/images/digme_2.jpg" />
            </div>
            <div class="item2">
                <img class="portfolio-img" src="static/images/digme_3.jpg" />
              </div>
          </div>
        </div>
        <div class="slideshow-text2">
          <div class="item2"></div>
        </div>
    </div>
</section>

<section class="container-fluid client-videos reveal">
    <div class="carousel-item-background">
        <video class="digmeVid" src="static/video/digmeVid.mp4" controls preload="metadata" disablePictureInPicture></video>
    </div>
</section>

<div class="container-fluid spacer2"></div>

<section class="container-fluid reveal">
    <div class="container-fluid video video-holder">
        <div class="col-12 contact-holder">
            <div class="col-lg-5 btn-box">
                <button class="SendEmail">contact</button>
            </div>
            <div class="col-lg-7 contact">
                    <div class="col social-icons">
                        <video class="socials" src="static/video/FacebookSocial_IconRotate.mp4" disablePictureInPicture></video>
                    </div>
                    <div class="col social-icons">
                        <video class="socials" src="static/video/InstaSocial_IconRotate.mp4" disablePictureInPicture></video>
                    </div>
                    <div class="col social-icons">
                        <video class="socials" src="static/video/LinkedInSocial_IconRotate.mp4" disablePictureInPicture></video>
                    </div>
            </div>
        </div>
    </div>
</section>

<script type="text/javascript">
        $(document).ready(function() {
        // Get media - with autoplay disabled (audio or video)
            var media = $('.client-reveal').not("[autoplay='autoplay']");
            var tolerancePixel = 20;

            function checkMedia(){
                // Get current browser top and bottom
                var scrollTop = $(window).scrollTop() + tolerancePixel;
                var scrollBottom = $(window).scrollTop() + $(window).height() - tolerancePixel;

                media.each(function(index, el) {
                    var yTopMedia = $(this).offset().top;
                    var yBottomMedia = $(this).height() + yTopMedia;

                    if(scrollTop < yBottomMedia && scrollBottom > yTopMedia){ 
                        $(this).get(0).play();
                    } else {
                        $(this).get(0).pause();
                    }
                });
            }
            $(document).on('scroll', checkMedia);
        });
</script>


<script type="text/javascript">
     $(window).scroll(function() {                  // assign scroll event listener

        var fixmeTop = $('.split-slideshow').offset().top; // get initial position of the elements
        var currentScroll = $(window).scrollTop(); // get current position

        if (currentScroll >= fixmeTop) {           // apply position: fixed if you
            $('.split-slideshow').addClass('sticky active').css({                      // scroll to that element or below it
                "z-index": "-1",
            });
        } else {                                   // apply position: static
            $('.nav-box').css({                      // if you scroll above it
                "position": 'fixed',
                "z-index": "100",
                "background-color": "black"
            });
        }
    });
</script>

<script type="text/javascript">
    $(window).scroll(function() {                  // assign scroll event listener

    var fixmeTop = $('.split-slideshow2').offset().top; // get initial position of the elements
    var currentScroll = $(window).scrollTop(); // get current position

    if (currentScroll >= fixmeTop) {           // apply position: fixed if you
        $('.split-slideshow2').addClass('sticky active').css({                      // scroll to that element or below it
            "z-index": "-1",
        });
    } else {                                   // apply position: static
        $('.nav-box').css({                      // if you scroll above it
            "position": 'fixed',
            "z-index": "100",
            "background-color": "black"
        });
    }
});
</script>

<script type="text/javascript">
    // Getting video element using jQuery
    var video = $(".gorillaVid,.digmeVid");

    // Check if video is ready to play
    $(video).on('canplay', function () {
        $(video).mouseover(function () {
            $(this).get(0).play();
        }).mouseout(function () {
            $(this).get(0).pause();
        })
    });
</script>

<script>
    // Getting video element using jQuery
    var video = $(".socials");

    // Check if video is ready to play
    $(video).on('canplaythrough', function () {
        $(video).mouseover(function () {
            $(this).get(0).play();
        })
    });
</script>


{% endblock %}